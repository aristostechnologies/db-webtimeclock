!function(){"use strict";function e(){n.get("/workSessions",function(e,r){e.getConnection(function(e,o){o.query("SELECT * FROM work_sessions ORDER BY id DESC LIMIT 35",function(e,o){e&&console.log("Error Selecting : %s ",e),r.send(JSON.stringify(o))})})}),o.createServer(n).listen(n.get("port"),function(){console.log("Express server listening on port "+n.get("port"))})}var r=require("express"),o=(require("routes"),require("http")),s=require("path"),i=require("cors"),n=r(),t=require("express-myconnection"),u=require("mysql"),a=require("method-override"),c=require("morgan"),d=require("serve-static"),p=require("errorhandler"),v=require("body-parser");n.set("port",process.env.PORT||4300),n.set("views",s.join(__dirname,"views")),n.set("view engine","ejs"),n.use(c("dev")),n.use(v.json()),n.use(v.urlencoded({extended:!0})),n.use(a()),n.use(d(s.join(__dirname,"public"))),n.use(i()),"development"==n.get("env")&&n.use(p()),n.use(t(u,{host:"localhost",user:"root",password:"root",port:3306,database:"brackets_timer_data"},"pool")),exports.init=function(r){r.hasDomain("view")||r.registerDomain("view",{major:0,minor:1}),r.registerCommand("view","viewTime",e,!1)}}();